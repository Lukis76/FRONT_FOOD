{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Documentos/FOOD/FRONT_FOOD/src/components/add/addImg.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { center } from '../../style/shorcuts'; // eslint-disable-next-line\n\nimport { useRef, useState } from 'react';\nimport { Err, Input } from './viewAdd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AddImg = _ref => {\n  _s();\n\n  let {\n    setError,\n    setNewRecipe,\n    error,\n    value\n  } = _ref;\n  let file = '';\n  const [valid, setValid] = useState({\n    locura: 'automatica',\n    imgextensionValid: ''\n  });\n  const inputRef = useRef();\n  const marcoRef = useRef();\n  const textRef = useRef();\n\n  const handleDragOver = e => {\n    e.preventDefault();\n    marcoRef.current.classList.add('img-active');\n    textRef.current.textContent = 'release to upload file';\n  };\n\n  const handleDragLeave = e => {\n    e.preventDefault();\n    marcoRef.current.classList.remove('img-active');\n    textRef.current.textContent = 'drag and drop image';\n  };\n\n  const handleDrop = e => {\n    e.preventDefault();\n\n    if (e.dataTransfer.files.length) {\n      setValid(state => {\n        return { ...state,\n          imgextensionValid: 'more than one file is not supported'\n        };\n      });\n    } else {\n      const file = e.dataTransfer.files[0];\n      processFile(file);\n    }\n  };\n\n  const processFile = file => {\n    const docType = file.type;\n    const valiudExtension = ['image/png', 'image/jpeg', 'image/jpg'];\n\n    if (valiudExtension.includes(docType)) {\n      setValid({ ...valid,\n        imgextensionValid: ''\n      });\n    } else {\n      setValid({ ...valid,\n        imgextensionValid: 'invalid file extension'\n      });\n    }\n  };\n\n  const [imagen, setImagen] = useState(value || '');\n\n  const handleChange = e => {\n    setImagen(e.target.value);\n\n    if (e.target.value === '') {\n      setError(state => ({ ...state,\n        validImg: 'image link field required'\n      }));\n    }\n\n    if (e.target.value.length < 6) {\n      setError(state => ({ ...state,\n        validImg: 'this link is not valid'\n      }));\n    } else if ( // eslint-disable-next-line\n    /[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi.test(e.target.value)) {\n      setNewRecipe(state => ({ ...state,\n        img: e.target.value\n      }));\n      setError(state => ({ ...state,\n        validImg: ''\n      }));\n    }\n  };\n\n  const handleBlur = e => {\n    if ( // eslint-disable-next-line\n    /[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi.test(e.target.value)) {\n      setNewRecipe(state => ({ ...state,\n        img: e.target.value\n      }));\n      setError(state => ({ ...state,\n        validImg: ''\n      }));\n    } else {\n      setError(state => ({ ...state,\n        validImg: 'this link is not valid'\n      }));\n    }\n\n    if (e.target.value === '') {\n      setError(state => ({ ...state,\n        validImg: 'image link field required'\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ContentAddImg, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Input // autoFocus\n      , {\n        type: \"text\",\n        name: \"name\",\n        value: imagen,\n        onChange: handleChange,\n        onBlur: handleBlur,\n        placeholder: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"link img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Err, {\n      children: error.validImg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddImg, \"rFuA5qNAQmrHax2PB+cHIwSgPto=\");\n\n_c = AddImg;\nconst ContentAddImg = styled.div`\n  width: 100%;\n  ${center()}\n  margin: 1rem 0;\n  div {\n    ${center()}\n    width: 100%;\n    position: relative;\n    label {\n      width: 100%;\n      font-family: 'Roboto', sans-serif;\n      font-weight: 700;\n      color: ${props => props.theme.color.addLabel};\n      position: absolute;\n      top: 0;\n      left: 5px;\n      transform: translateY(8px);\n      transition: transform 0.5s, color 0.3s;\n    }\n  }\n`; // const Box = styled.div`\n//   position: relative;\n//   ${center()}\n//   height: 8rem;\n//   width: 100%;\n//   border-radius: 1rem;\n//   border: 0.3rem dashed #ddd;\n//   transition: background 0.5s ease;\n//   &.active {\n//     transform: scale(1.08);\n//     transition: transform 0.2s ease;\n//   }\n//   label {\n//     font-weight: 700;\n//     color: #575757ee;\n//   }\n//   span {\n//     margin: 0.3rem;\n//     color: #575757ee;\n//     font-weight: 700;\n//   }\n// `\n// const Btn = styled.button`\n//   font-size: 1rem;\n//   background: #09f;\n//   padding: 0.3rem 0.8rem;\n//   border-radius: 0.4rem;\n//   cursor: pointer;\n//   &:hover {\n//     transform: scale(1.03);\n//     transition: transform 0.2s ease;\n//   }\n// `\n\n_c2 = ContentAddImg;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddImg\");\n$RefreshReg$(_c2, \"ContentAddImg\");","map":{"version":3,"names":["styled","center","useRef","useState","Err","Input","AddImg","setError","setNewRecipe","error","value","file","valid","setValid","locura","imgextensionValid","inputRef","marcoRef","textRef","handleDragOver","e","preventDefault","current","classList","add","textContent","handleDragLeave","remove","handleDrop","dataTransfer","files","length","state","processFile","docType","type","valiudExtension","includes","imagen","setImagen","handleChange","target","validImg","test","img","handleBlur","ContentAddImg","div","props","theme","color","addLabel"],"sources":["/home/lucas/Documentos/FOOD/FRONT_FOOD/src/components/add/addImg.js"],"sourcesContent":["import styled from 'styled-components'\nimport { center } from '../../style/shorcuts'\n// eslint-disable-next-line\nimport { useRef, useState } from 'react'\nimport { Err, Input } from './viewAdd'\n\nexport const AddImg = ({ setError, setNewRecipe, error, value }) => {\n  let file = ''\n  const [valid, setValid] = useState({\n    locura: 'automatica',\n    imgextensionValid: '',\n  })\n  const inputRef = useRef()\n  const marcoRef = useRef()\n  const textRef = useRef()\n\n  const handleDragOver = (e) => {\n    e.preventDefault()\n    marcoRef.current.classList.add('img-active')\n    textRef.current.textContent = 'release to upload file'\n  }\n\n  const handleDragLeave = (e) => {\n    e.preventDefault()\n    marcoRef.current.classList.remove('img-active')\n    textRef.current.textContent = 'drag and drop image'\n  }\n\n  const handleDrop = (e) => {\n    e.preventDefault()\n    if (e.dataTransfer.files.length) {\n      setValid((state) => {\n        return {\n          ...state,\n          imgextensionValid: 'more than one file is not supported',\n        }\n      })\n    } else {\n      const file = e.dataTransfer.files[0]\n      processFile(file)\n    }\n  }\n\n  const processFile = (file) => {\n    const docType = file.type\n    const valiudExtension = ['image/png', 'image/jpeg', 'image/jpg']\n    if (valiudExtension.includes(docType)) {\n      setValid({ ...valid, imgextensionValid: '' })\n    } else {\n      setValid({ ...valid, imgextensionValid: 'invalid file extension' })\n    }\n  }\n\n\n  const [imagen, setImagen] = useState(value || '')\n\n  const handleChange = (e) => {\n    setImagen(e.target.value)\n    if (e.target.value === '') {\n      setError((state) => ({ ...state, validImg: 'image link field required' }))\n    }\n    if (e.target.value.length < 6) {\n      setError((state) => ({ ...state, validImg: 'this link is not valid' }))\n    } else if (\n      // eslint-disable-next-line\n      /[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi.test(\n        e.target.value\n      )\n    ) {\n      setNewRecipe((state) => ({ ...state, img: e.target.value }))\n      setError((state) => ({ ...state, validImg: '' }))\n    }\n  }\n\n  const handleBlur = (e) => {\n    if (\n      // eslint-disable-next-line\n      /[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/gi.test(\n        e.target.value\n      )\n    ) {\n      setNewRecipe((state) => ({ ...state, img: e.target.value }))\n      setError((state) => ({ ...state, validImg: '' }))\n    } else {\n      setError((state) => ({ ...state, validImg: 'this link is not valid' }))\n    }\n    if (e.target.value === '') {\n      setError((state) => ({ ...state, validImg: 'image link field required' }))\n    }\n  }\n  return (\n    <ContentAddImg>\n      <div>\n        <Input\n          // autoFocus\n          type='text'\n          name='name'\n          value={imagen}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          placeholder=' '\n        />\n        <label>link img</label>\n      </div>\n      {/* <Box\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n        ref={marcoRef}\n      >\n        <label ref={textRef}>drag and drop image</label>\n        <span>o</span>\n        <Btn\n          onClick={(e) => {\n            e.preventDefault()\n            inputRef.current.click()\n          }}\n        >\n          select image\n        </Btn>\n        <input type='file' name='img' id='input-file' hidden ref={inputRef} />\n      </Box>\n      <p id='preview'>{valid.imgextensionValid}</p> */}\n      <Err>{error.validImg}</Err>\n    </ContentAddImg>\n  )\n}\n\nconst ContentAddImg = styled.div`\n  width: 100%;\n  ${center()}\n  margin: 1rem 0;\n  div {\n    ${center()}\n    width: 100%;\n    position: relative;\n    label {\n      width: 100%;\n      font-family: 'Roboto', sans-serif;\n      font-weight: 700;\n      color: ${(props) => props.theme.color.addLabel};\n      position: absolute;\n      top: 0;\n      left: 5px;\n      transform: translateY(8px);\n      transition: transform 0.5s, color 0.3s;\n    }\n  }\n`\n\n// const Box = styled.div`\n//   position: relative;\n//   ${center()}\n//   height: 8rem;\n//   width: 100%;\n//   border-radius: 1rem;\n//   border: 0.3rem dashed #ddd;\n//   transition: background 0.5s ease;\n//   &.active {\n//     transform: scale(1.08);\n//     transition: transform 0.2s ease;\n//   }\n//   label {\n//     font-weight: 700;\n//     color: #575757ee;\n//   }\n//   span {\n//     margin: 0.3rem;\n//     color: #575757ee;\n//     font-weight: 700;\n//   }\n// `\n\n// const Btn = styled.button`\n//   font-size: 1rem;\n//   background: #09f;\n//   padding: 0.3rem 0.8rem;\n//   border-radius: 0.4rem;\n//   cursor: pointer;\n//   &:hover {\n//     transform: scale(1.03);\n//     transition: transform 0.2s ease;\n//   }\n// `\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}